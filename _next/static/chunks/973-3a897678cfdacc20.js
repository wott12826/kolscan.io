(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{7790:()=>{},7967:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var a=n(5155),r=n(5565);let o=t=>{let{src:e,alt:n,width:o=20,height:i=20,radius:s=1e3}=t;return(0,a.jsx)("div",{style:{position:"relative",minWidth:"".concat(o,"px"),width:"".concat(o,"px"),minHeight:"".concat(i,"px"),height:"".concat(i,"px"),overflow:"hidden",display:"inline-block",borderRadius:"".concat(s,"px"),cursor:"pointer"},children:(0,a.jsx)(r.default,{src:e.startsWith("http")||e.startsWith("/images")?e:"/images/Placeholder.webp",alt:n,fill:!0,style:{objectFit:"cover"},sizes:"".concat(o,"px"),onError:t=>{let n=t.target;n.src!==window.location.origin+"/images/Placeholder.webp"&&(e.includes("cdn.Xitadel.io")?n.src="/images/Default.webp":n.src="/images/Placeholder.webp")}})})}},5258:(t,e,n)=>{"use strict";n.d(e,{WalletProvider:()=>l,v:()=>c});var a=n(5155),r=n(2115);let o=(0,n(5974).UU)("https://odllxoobvwycaojooxvl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kbGx4b29idnd5Y2Fvam9veHZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0MDYyNTcsImV4cCI6MjA2Mzk4MjI1N30.p8yssMZkn-TwOEkCRgO668egOlYBZuVJT0TRmqRzoqk"),i={SOL:0,BTC:0,ETH:0},s=(0,r.createContext)({kolWallets:[],setKolWallets:()=>{},kolTransactions:[],setKolTransactions:()=>{},prices:i,setPrices:()=>{},userData:null,setUserData:()=>{},startRealTimeListener:()=>()=>{}});function l(t){let{children:e,priceData:n=i,initialData:l=[],initialUserData:c=null}=t,[u,d]=(0,r.useState)(c),[p,h]=(0,r.useState)(l),[f,m]=(0,r.useState)([]),[w,y]=(0,r.useState)(n);(0,r.useEffect)(()=>{if(!u)return;let t=g("");return window.gtag&&window.gtag("event","realtime-trigger"),setTimeout(()=>{t()},72e5),()=>{t(),window.gtag&&window.gtag("event","realtime-unsubscribe")}},[u]);let g=t=>(t?o.channel("new-transactions").on("postgres_changes",{event:"INSERT",schema:"public",table:"transactions",filter:"wallet_address=eq.".concat(t)},t=>b(t)).subscribe():o.channel("new-transactions").on("postgres_changes",{event:"INSERT",schema:"public",table:"transactions"},t=>b(t)).subscribe(),()=>{o.removeAllChannels()}),b=t=>{let e=t.new;m([e,...f]),window.gtag&&window.gtag("event","new-transaction",{signature:e.signature||"missing"})};return(0,a.jsx)(s.Provider,{value:{kolWallets:p,setKolWallets:h,kolTransactions:f,setKolTransactions:m,prices:w,setPrices:y,userData:u,setUserData:d,startRealTimeListener:g},children:e})}let c=()=>(0,r.useContext)(s)},3437:(t,e,n)=>{"use strict";n.d(e,{Cx:()=>m,J0:()=>s,P:()=>l,fG:()=>f,kn:()=>p,oB:()=>i,q3:()=>c,uC:()=>h,vL:()=>d,vc:()=>u});var a=n(7369),r=n(7783),o=n(5927).Buffer;async function i(t,e){try{let n=await fetch("https://fetch-holdings-183458804378.us-central1.run.app/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:t,apiKey:e})}),a=await n.json();return null==a?void 0:a.holdings}catch(t){return console.error(t),[]}}async function s(t,e,n,a,r){try{let o=await fetch("https://fetch-wallet-data-183458804378.us-central1.run.app/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:t,beforeSig:a,afterSig:r,rpcUrl:e,apiKey:n})});return await o.json()}catch(t){return console.error(t),{transactions:[],isNew:!1}}}async function l(){try{let t=await fetch("/api/trades",{method:"GET",headers:{"Content-Type":"application/json"}});return(await t.json()).data}catch(t){return console.error(t),[]}}async function c(t){try{let e=await fetch("/api/tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({solPrice:t})});return(await e.json()).data}catch(t){return console.error(t),[]}}async function u(t,e,n){try{let a=await fetch("https://verify-wallet-183458804378.us-central1.run.app/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_key:t,signature:r.A.encode(e),nonce:n})});return await a.json()}catch(t){console.error("Error sending signed message to backend:",t)}}async function d(t,e){try{if(!t)return null;let n=await fetch("https://fetch-balance-183458804378.us-central1.run.app/balance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:t,token:e})});return(await n.json()).user}catch(t){return console.error("Error verifying user:",t),null}}async function p(t){try{if(!t)return null;let e=await fetch("https://frontend-api-v3.pump.fun/coins/"+t,{method:"GET",headers:{"Content-Type":"application/json",Origin:"https://pump.fun"},next:{revalidate:3600}});if(!e.ok)throw Error("Fetch failed with status: ".concat(e.status));let n=await e.json();return{name:n.name,symbol:n.symbol,image_url:n.image_uri,bonding_curve:n.bonding_curve,twitter:n.twitter,telegram:n.telegram,website:n.website}}catch(t){return console.error("Error verifying user:",t),null}}async function h(t,e,n,a,r){try{if(n<=0)return;let o=await fetch("https://api.jup.ag/swap/v1/quote?inputMint=".concat(t,"&outputMint=").concat(e,"&amount=").concat(Math.floor(r?1e9*n:1e6*n),"&slippageBps=").concat(100*a,"&restrictIntermediateTokens=true&platformFeeBps=100"),{method:"GET",headers:{"Content-Type":"application/json",Origin:"https://Xitadel.io"}});return await o.json()}catch(t){return console.error(t),null}}async function f(t,e,n,r){try{if(!n||!t)return console.log(n,t);let i=await fetch("https://api.jup.ag/swap/v1/swap",{method:"POST",headers:{"Content-Type":"application/json",Origin:"https://Xitadel.io"},body:JSON.stringify({quoteResponse:n,userPublicKey:t.publicKey.toBase58(),feeAccount:"3uCzZu23TNddgdrPEdiBjvsn3MkNWHKvPuoFd5mXNYdC",dynamicSlippage:!0,dynamicComputeUnitLimit:!0,prioritizationFeeLamports:{priorityLevelWithMaxLamports:{maxLamports:1e9*r,priorityLevel:"veryHigh"}}})}),{swapTransaction:s}=await i.json();if(!s)throw Error("Failed to get swap transaction.");let l=o.from(s,"base64"),c=a.Kt.deserialize(l),u=await t.signTransaction(c),d=o.from(u.serialize()).toString("base64"),p=await fetch("".concat("https://swap-183458804378.us-central1.run.app","/sendTransaction"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serializedTransaction:d,wallet:t.publicKey.toString(),token:e})});return await p.json()}catch(t){return console.error(t),null}}async function m(t){if(!t)return null;try{let e=await fetch("https://fetch-holders-183458804378.us-central1.run.app/top",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenAddress:t}),next:{revalidate:60}});return(await e.json()).holders}catch(t){return console.error(t),null}}},953:(t,e,n)=>{"use strict";n.d(e,{KH:()=>c,MD:()=>i,ZV:()=>s,bc:()=>p,fF:()=>r,fU:()=>o,ob:()=>l,s4:()=>u,vW:()=>d});let a=["Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"];function r(t,e){let n=Math.floor((e-1e3*new Date(t).getTime())/1e3),a=Math.floor(n/60),r=Math.floor(a/60),o=Math.floor(r/24);return o>0?"".concat(o,"d"):r>0?"".concat(r,"hr"):a>0?"".concat(a,"m"):"".concat(n,"s")}function o(t){return t<60?"".concat(t.toFixed(0),"s"):t<3600?"".concat((t/60).toFixed(0),"m"):t<86400?"".concat((t/3600).toFixed(0),"h"):"".concat((t/86400).toFixed(0),"d")}function i(t){let[e,n]=t.toPrecision(3).toString().split(".");if(!n)return t.toString();let a=["₀","₁","₂","₃","₄","₅","₆","₇","₈","₉"],r=e+".",o=0;for(;o<n.length;){let t=n[o],e=1;for(;o+e<n.length&&n[o+e]===t;)e++;e>3?(r+=t+a[e],o+=e):(r+=t,o++)}return r}function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n="string"==typeof t?parseFloat(t):t;if(!n||0===n)return"0";let a=Math.abs(n);if(a>=1){let t=Math.floor(Math.log10(a)/3),r=(n/Math.pow(10,3*t)).toPrecision(e);return"".concat(parseFloat(r)).concat(["","k","m","b","t"][t])}let r=n.toPrecision(e);return"".concat(parseFloat(r).toFixed(e))}function l(t,e,n){let a=t<0;if(!n)return t.toFixed(e).replace(/\B(?=(\d{3})+(?!\d))/g,",");{let n=Math.abs(t).toFixed(e).replace(/\B(?=(\d{3})+(?!\d))/g,",");return a?"-$".concat(n):"$".concat(n)}}function c(t,e){if(!e)return t;let n=e.toLowerCase();return t.slice().filter(t=>{var e,a;return t.in_token_address.toLowerCase().includes(n)||t.out_token_address.toLowerCase().includes(n)||(null===(e=t.in_token_symbol)||void 0===e?void 0:e.toLowerCase().includes(n))||(null===(a=t.out_token_symbol)||void 0===a?void 0:a.toLowerCase().includes(n))})}function u(t,e){if(!e)return t;let n=e.toLowerCase();return t.slice().filter(t=>t.token_address.toLowerCase().includes(n)||t.symbol.toLowerCase().includes(n))}function d(t,e){let n=Date.now()/1e3-86400*e;return t.slice().filter(t=>t.timestamp>=n).sort((t,e)=>e.timestamp-t.timestamp)}function p(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return[];let o=t.reduce((t,e)=>{let{in_token_address:n,out_token_address:a,spl_direction:r}=e;if("Swap"===r){if(n){let a={...e,spl_direction:"Sell"};t[n]||(t[n]=[]),t[n].push(a)}if(a){let n={...e,spl_direction:"Buy"};t[a]||(t[a]=[]),t[a].push(n)}}else{let o="Buy"===r?a:n;t[o]||(t[o]=[]),t[o].push(e)}return t},{});return Object.keys(o).map(t=>{let i=o[t],s=0,l=0,c=0,u=0,d="",p="",h=!1,f=!1,m=0,w=0,y="",g=0;if(i.reverse().forEach(t=>{let{spl_direction:e,sol_change:r,in_amount:o,out_amount:i,in_token_image:b,in_token_symbol:v,in_token_address:T,out_token_image:C,out_token_symbol:S,out_token_address:_,dex:j}=t;if("Buy"===e)a.includes(T)?s+=o/n:s+=r,g+=i,l+=i,h=!0,w=w||t.timestamp,y=j,C&&S&&(d=C,p=S);else if("Sell"===e&&g>0){let e=Math.min(g,o),s=e/o;a.includes(_)?c+=i/n*s:c+=r*s,g-=e,u+=e,f=!0,m=t.timestamp,y=j,b&&v&&(d=b,p=v)}}),h&&f&&!a.includes(t)){let n=0,a=0;if(r)l-u<0&&(c*=l/u,u=l);else{let r=l-u,o=e.find(e=>e.token_address===t);r>0&&o?(n=Math.min(r/(null==o?void 0:o.balance),1)*(null==o?void 0:o.value),a=r):r<0&&(c*=l/u,u=l)}let o=c-s;return{token_address:t,image_url:d||"/images/Placeholder.webp",symbol:p||t.slice(0,6)+"...",buy_sol:s,buy_amount:l,sell_sol:c,sell_amount:u,profit:o,holding_value:n,holding_balance:a,buy_timestamp:w,sell_timestamp:m,dex:y}}return null}).filter(t=>r?t&&(null==t?void 0:t.profit)>0?(null==t?void 0:t.buy_amount)>=(null==t?void 0:t.sell_amount)&&null!==t:(null==t?void 0:t.buy_amount)===(null==t?void 0:t.sell_amount)&&null!==t:null!==t)}}}]);