(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3311:(e,t,s)=>{Promise.resolve().then(s.bind(s,3873)),Promise.resolve().then(s.bind(s,5258)),Promise.resolve().then(s.t.bind(s,9324,23)),Promise.resolve().then(s.bind(s,766)),Promise.resolve().then(s.bind(s,96)),Promise.resolve().then(s.bind(s,3479)),Promise.resolve().then(s.t.bind(s,8173,23)),Promise.resolve().then(s.t.bind(s,3704,23))},3873:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var a=s(5155),n=s(2115),r=s(9208),o=s(5565),i=s(8173),l=s.n(i),c=s(72),d=s.n(c),h=s(5258),u=s(953),p=s(7967),x=s(3060),g=s(3168),m=s.n(g);function w(e){let{theme:t,setTheme:s,styling:i}=e,[l,c]=(0,n.useState)({apiKey:"",rpcUrl:"",chartSetting:""}),[d,h]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=localStorage.getItem("chart-setting")||"";c({apiKey:localStorage.getItem("api-key")||"",rpcUrl:localStorage.getItem("rpc-url")||"",chartSetting:e});let t=r.A.get("theme")||"dark";s(t),document.documentElement.setAttribute("data-theme",t),h("true"===r.A.get("sounds"))},[]),(0,a.jsxs)("div",{className:m().settingsContainer,style:i?{position:"relative",padding:0,border:"none",top:0}:{},children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("h1",{children:"Theme"}),(0,a.jsx)(x.A,{onChange:()=>{let e="light"===t?"dark":"light";s(e),document.documentElement.setAttribute("data-theme",e),r.A.set("theme",e,{expires:365})},checked:"light"===t,offColor:"#888",onColor:"#0077ff",width:50,height:25,uncheckedIcon:(0,a.jsx)("svg",{viewBox:"0 0 10 10",height:"100%",width:"100%",fill:"black",children:(0,a.jsx)("circle",{r:3,cx:5,cy:5})}),checkedIcon:(0,a.jsx)("svg",{viewBox:"0 0 10 10",height:"100%",width:"100%",fill:"yellow",children:(0,a.jsx)("circle",{r:3,cx:5,cy:5})})})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("h1",{children:"Sounds"}),(0,a.jsx)(x.A,{onChange:()=>{let e=!d;h(e),r.A.set("sounds",e.toString(),{expires:365})},checked:d,offColor:"#888",onColor:"#0077ff",width:50,height:25,uncheckedIcon:(0,a.jsx)("svg",{}),checkedIcon:(0,a.jsx)("svg",{})})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("h1",{children:"Platform"}),(0,a.jsxs)("select",{className:m().chartSettingsSelect,name:"chart setting",id:"chart-setting",value:l.chartSetting,onChange:e=>{c({...l,chartSetting:e.target.value}),localStorage.setItem("chart-setting",e.target.value)},children:[(0,a.jsx)("option",{value:"Default",children:"Default"}),(0,a.jsx)("option",{value:"Pump/Dexscreener",children:"Pump/Dexscreener"}),(0,a.jsx)("option",{value:"Axiom",children:"Axiom"}),(0,a.jsx)("option",{value:"Photon",children:"Photon"}),(0,a.jsx)("option",{value:"BullX",children:"BullX Neo"}),(0,a.jsx)("option",{value:"Nova",children:"Nova"}),(0,a.jsx)("option",{value:"Padre",children:"Padre"})]})]}),(0,a.jsx)("h1",{children:"Custom Settings"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("input",{type:"text",placeholder:"Helius Api Key",className:m().settingsInput,value:l.apiKey,onChange:e=>{c({...l,apiKey:e.target.value})},onBlur:e=>{let t=e.target.value;localStorage.setItem("api-key",t)}}),(0,a.jsx)(o.default,{src:"dark"===t?"/images/Link.webp":"/images/LinkDark.webp",alt:"Link to website",width:15,height:15,style:{cursor:"pointer",height:15},onClick:()=>window.open("https://www.helius.dev/solana-apis")})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("input",{type:"text",placeholder:"Rpc Url",className:m().settingsInput,value:l.rpcUrl,onChange:e=>{c({...l,rpcUrl:e.target.value})},onBlur:e=>{let t=e.target.value;localStorage.setItem("rpc-url",t)}}),(0,a.jsx)(o.default,{src:"dark"===t?"/images/Link.webp":"/images/LinkDark.webp",alt:"Link to website",width:15,height:15,style:{cursor:"pointer",height:15},onClick:()=>window.open("https://www.helius.dev/solana-rpc-nodes")})]}),(0,a.jsx)("p",{style:{fontSize:14,lineHeight:1},children:"Supports comma seperated lists"})]})}var j=s(2227),_=s(3437);function f(){let{prices:e,userData:t,setUserData:s}=(0,h.v)(),[i,c]=(0,n.useState)("dark"),[x,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),[k,C]=(0,n.useState)(!1),[y,S]=(0,n.useState)(0),N=async()=>{if(!t||Date.now()-y<3e4)return;S(Date.now());let e=await (0,_.vL)(t.wallet_address,t.token);console.log(e),s({...t,balance:e.balance||0,tier:e.tier||0})},L=async()=>{if(!t){if(!window.solana||!window.solana.isPhantom){window.confirm("Please install Phantom Wallet.")&&window.open("https://phantom.com","_blank");return}try{C(!0),await window.solana.request({method:"connect",onlyIfTrusted:!0});let e=new Date().getTime().toString(),t=new TextEncoder().encode("Sign in to Kolscan: ".concat(e)),{signature:a,publicKey:n}=await window.solana.signMessage(t,"utf8"),o=await (0,_.vc)(n.toBase58(),a,e);o.success&&(r.A.remove("user-session"),r.A.set("connected",n.toBase58()),r.A.set("token",o.user.token),s(o.user)),C(!1)}catch(e){console.error(e),C(!1)}}},I=async()=>{r.A.get("user-session")||r.A.set("user-session","undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),r.A.remove("connected"),r.A.remove("token"),s(null),await window.solana.disconnect()};return(0,n.useEffect)(()=>{document.querySelector(".mainContent").style.overflowY=v?"hidden":"auto"},[v]),(0,n.useEffect)(()=>{(async function(){if(!t)return await I();r.A.remove("user-session"),await window.solana.connect({onlyIfTrusted:!0})})()},[]),(0,a.jsxs)("div",{className:d().headerContainer,children:[(0,a.jsx)(l(),{href:"/",style:{fontSize:22,fontWeight:600},children:"Kolscan"}),(0,a.jsxs)("div",{className:d().priceContainer,onClick:()=>window.open("https://www.tradingview.com/chart?symbol=BINANCE%3ASOLUSDT.P"),children:[(0,a.jsx)(p.A,{src:"/images/Solana.webp",alt:"sol",width:20,height:20}),(0,a.jsxs)("h2",{children:["$",(0,u.ob)(e.SOL,2)]})]}),(0,a.jsxs)("div",{className:d().routeContainer,children:[(0,a.jsx)(l(),{href:"/trades",children:"Trades"}),(0,a.jsx)(l(),{href:"/tokens",children:"Tokens"}),(0,a.jsx)(l(),{href:"/leaderboard",children:"Leaderboard"})]}),(0,a.jsxs)("div",{className:d().headerEndContainer,children:[(0,a.jsx)(o.default,{className:"cursor-pointer",src:"dark"===i?"/images/Search2.webp":"/images/Search2Dark.webp",alt:"search",width:24,height:24,onClick:()=>b(!0)}),(0,a.jsx)("span",{className:d().tokenLink,onClick:t?void 0:L,children:(null==t?void 0:t.wallet_address)?(0,a.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsxs)("span",{className:d().userBalance,children:[(0,a.jsx)(o.default,{src:"/images/KolscanLogo.webp",alt:"kolscan",width:16,height:16,style:{borderRadius:1e3},onClick:()=>window.open("https://dexscreener.com/solana/9y35gd9e4oirraqpg8j3abj7di4bxrahw9w6kfgz4jj5")}),(0,a.jsx)("h1",{style:{fontSize:15,marginLeft:10},onClick:()=>window.open("https://dexscreener.com/solana/9y35gd9e4oirraqpg8j3abj7di4bxrahw9w6kfgz4jj5"),children:(0,u.ZV)(t.balance,4)}),(0,a.jsx)("div",{className:d().popupContainer,children:(0,a.jsx)(o.default,{src:"/images/Refresh.webp",alt:"refresh",width:10,height:10,onClick:N,style:{marginLeft:10}})}),(0,a.jsx)("div",{className:d().popup,style:{bottom:"-80%",transform:"translate(20%)"},children:"Fetch balance"})]}),(0,a.jsx)(l(),{href:"/account/".concat(null==t?void 0:t.wallet_address),children:null==t?void 0:t.wallet_address.slice(0,6)}),(0,a.jsx)("span",{className:d().popupContainer,onClick:I,style:{margin:"0px 2px 2px 10px",fontSize:15,fontWeight:"100"},children:"x"}),(0,a.jsx)("div",{className:d().popup,style:{bottom:"-80%",transform:"translate(180%)"},children:"Disconnect"})]}):(0,a.jsx)("div",{children:k?(0,a.jsx)(o.default,{src:"/images/Loader.svg",alt:"",width:25,height:15}):"Connect Wallet"})}),(0,a.jsx)(o.default,{className:d().menuIcon,onClick:()=>f(!m),src:"dark"===i?"/images/Menu.svg":"/images/MenuDark.svg",alt:"menu icon",width:25,height:25}),(0,a.jsxs)("div",{className:"".concat(d().settingsMenu," ").concat(m?d().open:""),children:[(0,a.jsx)(l(),{onClick:()=>f(!m),href:"/trades",children:"Trades"}),(0,a.jsx)(l(),{onClick:()=>f(!m),href:"/tokens",children:"Tokens"}),(0,a.jsx)(l(),{onClick:()=>f(!m),href:"/leaderboard",children:"Leaderboard"}),(0,a.jsx)("hr",{style:{borderColor:"var(--border-color)",borderTopWidth:.5}}),(0,a.jsx)("span",{className:d().menuTokenLink,onClick:t?void 0:L,children:(null==t?void 0:t.wallet_address)?(0,a.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsxs)("span",{className:d().userBalance,children:[(0,a.jsx)(o.default,{src:"/images/KolscanLogo.webp",alt:"kolscan",width:16,height:16,style:{borderRadius:1e3},onClick:()=>window.open("https://dexscreener.com/solana/9y35gd9e4oirraqpg8j3abj7di4bxrahw9w6kfgz4jj5")}),(0,a.jsx)("h1",{style:{fontSize:15,marginLeft:10},onClick:()=>window.open("https://dexscreener.com/solana/9y35gd9e4oirraqpg8j3abj7di4bxrahw9w6kfgz4jj5"),children:(0,u.ZV)(t.balance,4)}),(0,a.jsx)("div",{className:d().popupContainer,children:(0,a.jsx)(o.default,{src:"/images/Refresh.webp",alt:"refresh",width:10,height:10,onClick:N,style:{marginLeft:10}})}),(0,a.jsx)("div",{className:d().popup,style:{bottom:"-80%",transform:"translate(20%)"},children:"Fetch balance"})]}),(0,a.jsx)(l(),{href:"/account/".concat(null==t?void 0:t.wallet_address),children:null==t?void 0:t.wallet_address.slice(0,6)}),(0,a.jsx)("span",{className:d().popupContainer,onClick:I,style:{margin:"0px 2px 2px 10px",fontSize:15,fontWeight:"100"},children:"x"}),(0,a.jsx)("div",{className:d().popup,style:{bottom:"-80%",transform:"translate(180%)"},children:"Disconnect"})]}):(0,a.jsx)("div",{children:k?(0,a.jsx)(o.default,{src:"/images/Loader.svg",alt:"",width:25,height:15}):"Connect Wallet"})}),(0,a.jsx)("hr",{style:{borderColor:"var(--border-color)",borderTopWidth:.5}}),(0,a.jsx)(w,{theme:i,setTheme:c,styling:!0})]}),(0,a.jsx)(o.default,{className:d().settingsIcon,onClick:()=>g(!x),src:"dark"===i?"/images/Settings.webp":"/images/SettingsDark.webp",alt:"Settings",width:32,height:32})]}),x&&(0,a.jsxs)("div",{className:d().settingsContainer,children:[(0,a.jsx)("div",{className:d().settingsBackground,onClick:()=>g(!1)}),(0,a.jsx)(w,{theme:i,setTheme:c})]}),v&&(0,a.jsxs)("div",{className:d().searchbarContainer,children:[(0,a.jsx)("div",{className:d().searchbarBackground,onClick:()=>b(!1)}),(0,a.jsx)(j.A,{autoFocus:!0,resetSearch:()=>b(!1)})]})]})}},2227:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var a=s(5155),n=s(2115),r=s(8173),o=s.n(r),i=s(5565),l=s(6046),c=s(8766),d=s.n(c),h=s(5258),u=s(7967);function p(e){let{resetSearch:t,zIndex:s,autoFocus:r}=e,{kolWallets:c}=(0,h.v)(),[p,x]=(0,n.useState)(""),[g,m]=(0,n.useState)(""),[w,j]=(0,n.useState)([]),_=(0,l.useRouter)(),f=()=>{if(g){if(!/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(g))return x("invalid solana address");x(""),t&&t(),_.push("/account/".concat(g))}};return(0,n.useEffect)(()=>{if(0===g.length)return x(""),j([]);j((null==c?void 0:c.filter(e=>{var t,s;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(s=e.twitter)||void 0===s?void 0:s.toLowerCase().includes(g.toLowerCase()))||e.wallet_address.toLowerCase().includes(g.toLowerCase())}))||[])},[g]),(0,a.jsxs)("div",{className:d().searchbarOuter,style:s?{zIndex:s}:{},children:[(0,a.jsxs)("div",{className:d().searchbarContainer,children:[(0,a.jsx)("input",{className:d().searchbarInput,autoComplete:"off",autoFocus:r,value:g,onChange:e=>m(e.target.value),name:"searchInput",type:"text",placeholder:"Enter wallet address",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f())},onBlur:()=>j([])}),(0,a.jsx)("button",{className:d().searchbarButton,onMouseDown:f,children:(0,a.jsx)(i.default,{src:"/images/Search2.webp",alt:"search",width:25,height:25})})]}),p&&(0,a.jsx)("p",{className:d().searchbarError,children:p}),(0,a.jsx)("div",{className:"".concat(d().searchResultsContainer," ").concat(0===w.length&&"hidden"),children:w.map((e,s)=>(0,a.jsxs)(o(),{className:d().searchResult,href:"/account/"+e.wallet_address,onClick:()=>{m(""),t&&t()},onMouseDown:e=>e.preventDefault(),children:[(0,a.jsx)(u.A,{src:"https://cdn.kolscan.io/profiles/".concat(e.wallet_address||"Default",".png"),alt:"kol pfp",width:27,height:27}),(0,a.jsx)("h1",{style:{whiteSpace:"nowrap"},children:e.name}),(0,a.jsx)("h1",{style:{overflow:"hidden",marginLeft:"auto",fontSize:13},children:e.wallet_address})]},s))})]})}},9324:()=>{},72:e=>{e.exports={headerContainer:"header_headerContainer__r0qMJ",routeContainer:"header_routeContainer__TpydG",headerEndContainer:"header_headerEndContainer__8YFW6",priceContainer:"header_priceContainer__T58TX",tokenLink:"header_tokenLink__AdXco",userBalance:"header_userBalance__6WmHg",menuTokenLink:"header_menuTokenLink__KNZuO",settingsIcon:"header_settingsIcon__gb_FR",menuIcon:"header_menuIcon__AieAb",settingsMenu:"header_settingsMenu__EK1PA",settingsBackground:"header_settingsBackground__lmBl4",settingsContainer:"header_settingsContainer__sg_mZ",searchbarBackground:"header_searchbarBackground__t_DX_",searchbarContainer:"header_searchbarContainer__mCyuH",popupContainer:"header_popupContainer__kaCg6",popup:"header_popup__dhd54",open:"header_open__xVp7J"}},8766:e=>{e.exports={searchbarContainer:"searchbar_searchbarContainer__E_xOr",searchbarOuter:"searchbar_searchbarOuter__MqBwZ",searchbarInput:"searchbar_searchbarInput__SxLcM",searchbarButton:"searchbar_searchbarButton__xmE0s",searchbarError:"searchbar_searchbarError__Ecodn",searchResultsContainer:"searchbar_searchResultsContainer__oHrFL",searchResult:"searchbar_searchResult__Y2CsX"}},3168:e=>{e.exports={settingsContainer:"settings_settingsContainer__2s7wT",chartSettingsSelect:"settings_chartSettingsSelect__eWO70",settingsInput:"settings_settingsInput__5xwUI"}}},e=>{var t=t=>e(e.s=t);e.O(0,[553,533,956,962,405,113,973,441,517,358],()=>t(3311)),_N_E=e.O()}]);